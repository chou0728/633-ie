(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62c96237"],{"93d2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"m-userInfo"},[n("h4",{staticClass:"u-title"},[t._v("\n            存款\n        ")]),n("div",{staticClass:"m-bank"},[n("common-money",{attrs:{"cur-action":"deposit"}})],1),null!==t.order?n("div",{staticClass:"m-deposit"},[t._v("\n            您有订单在进行中："),n("br"),t._v("\n            订单号："+t._s(t.order.order_sn)),n("br"),t._v("\n            订单金额："+t._s(t.order.charge_amount)),n("br"),n("div",{staticClass:"u-btn clearfix"},[n("a",{staticClass:"btn pull-right",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.cancelPay(t.order.id)}}},[t._v("取消订单")])])]):t._e(),null===t.order?n("div",{staticClass:"m-deposit"},[n("ul",{staticClass:"nav nav-tabs clearfix"},[n("li",{class:"Quick"===t.paymentType?"active":"",on:{click:function(e){return t.handlePayWay("Quick")}}},[n("a",{attrs:{href:"javascript:void(0)"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentType,expression:"paymentType"}],attrs:{type:"radio",value:"Online"},domProps:{checked:t._q(t.paymentType,"Online")},on:{change:function(e){t.paymentType="Online"}}}),n("span",{staticClass:"icon icon-kj"}),t._v("快捷支付\n                    ")])]),n("li",{class:"Online"===t.paymentType?"active":"",on:{click:function(e){return t.handlePayWay("Online")}}},[n("a",{attrs:{href:"javascript:void(0)"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentType,expression:"paymentType"}],attrs:{type:"radio",value:"Online"},domProps:{checked:t._q(t.paymentType,"Online")},on:{change:function(e){t.paymentType="Online"}}}),n("span",{staticClass:"icon icon-zx"}),t._v("在线支付\n                    ")])]),n("li",{class:"Union"===t.paymentType?"active":"",on:{click:function(e){return t.handlePayWay("Union")}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentType,expression:"paymentType"}],attrs:{type:"radio",value:"Online"},domProps:{checked:t._q(t.paymentType,"Online")},on:{change:function(e){t.paymentType="Online"}}}),t._m(0)])]),n("div",{staticClass:"step-one"},[n("p",{staticClass:"tip"},[t._v("\n                    存款到帐户，请选择您的存款方式及银行，并填写存款金额。 存款前请务必确认收款银行卡信息是否准确，如因错误信息填写造成无法到账，损失由用户自行承担\n                ")]),n("h5",[t._v("第一步：选择支付通道")]),n("div",{staticClass:"choose clearfix"},t._l(t.paymentAgents,function(e,a){return n("div",{key:a,staticClass:"u-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.payment_agent_id,expression:"postForm.payment_agent_id"}],staticClass:"radio",attrs:{id:"r1",type:"radio",name:"radio"},domProps:{value:e.id,checked:t._q(t.postForm.payment_agent_id,e.id)},on:{change:function(n){return t.$set(t.postForm,"payment_agent_id",e.id)}}}),n("label",{attrs:{for:"r1"}},[t._v(t._s(e.title))])])}),0),"Online"===t.paymentType?n("h5",[t._v("\n                    第二步：选择银行\n                ")]):t._e(),"Online"===t.paymentType?n("div",{staticClass:"choose choose-banks clearfix"},t._l(t.paymentBanks,function(e,a){return n("div",{key:a,staticClass:"u-radio",on:{click:function(e){return t.handleBank(a)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.bank_id,expression:"postForm.bank_id"}],staticClass:"radio",attrs:{id:"bank"+a,type:"radio",name:"bank_id"},domProps:{value:a,checked:t._q(t.postForm.bank_id,a)},on:{change:function(e){return t.$set(t.postForm,"bank_id",a)}}}),n("label",{attrs:{for:"bank"+a}},[n("img",{attrs:{src:"/static/images/pay-"+e+".png",alt:""}})])])}),0):t._e(),"Online"===t.paymentType?n("div",{staticClass:"u-input"},[n("p",{staticClass:"tip"},[t._v("\n                        因中国建设银行接口维护，快捷支付暂不支持使用该行卡支付。给您带来不便，敬请谅解！\n                    ")])]):t._e(),"Online"!==t.paymentType?n("h5",[t._v("\n                    第二步：输入金额\n                ")]):t._e(),n("div",{staticClass:"u-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.amount,expression:"postForm.amount"}],attrs:{type:"text",placeholder:"输入存款金额"},domProps:{value:t.postForm.amount},on:{input:function(e){e.target.composing||t.$set(t.postForm,"amount",e.target.value)}}})]),n("div",{staticClass:"u-btn clearfix"},[n("a",{staticClass:"btn pull-right",attrs:{href:"javascript:void(0);"},on:{click:t.getPayUrl}},[t._v("下一步")])]),n("p",{staticClass:"tip"},[t._v("\n                    注：存款前请务必确认收款银行卡信息是否准确，如因错误信息填写造成无法到账，损失由用户自行承担。\n                ")])])]):t._e()]),n("div",{staticStyle:{display:"none"},attrs:{id:"postPay"}})])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"javascript:void(0)"}},[n("span",{staticClass:"icon icon-qq"}),t._v("银联UNP\n                    ")])}],i=n("9ab4"),r=n("60a3"),s=n("0290"),c=n("b804"),l=n("f727");function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function m(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function f(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}var _=function(t){function e(){var t;return p(this,e),t=f(this,v(e).apply(this,arguments)),t.loading=!1,t.order=null,t.postForm={payment_agent_id:1,bank_id:1,amount:""},t.payments=[],t.paymentType="Quick",t}return h(e,t),m(e,[{key:"created",value:function(){var t=this;s["a"].getProfile(),this.fetchData(),setInterval(function(){t.checkDeposit()},2e3)}},{key:"mounted",value:function(){this.flushPage()}},{key:"fetchData",value:function(){var t=this,e=this;this.loading=!1,Object(l["a"])("/member/deposit",[]).then(function(t){e.order=t.data.order,e.payments=t.data.payments}).catch(function(){t.loading=!1})}},{key:"flushPage",value:function(){s["a"].getInfo()}},{key:"handlePayWay",value:function(t){this.paymentType=t}},{key:"handleBank",value:function(t){this.postForm.bank_id=t}},{key:"checkDeposit",value:function(){var t=this;null!==this.order&&Object(l["b"])("/member/depositCheck",{id:this.order.id}).then(function(e){1===e.code&&(t.fetchData(),t.$toasted.show(e.msg,{type:"success"}))}).catch(function(){t.loading=!1})}},{key:"getPayUrl",value:function(){var t=this,e=this;this.loading=!1,this.postForm.amount<=0||""===this.postForm.amount?this.$toasted.show("请填写存款金额",{type:"error"}):Object(l["b"])("/member/deposit",this.postForm).then(function(n){0===n.code?(e.loading=!1,t.$toasted.show(n.msg,{type:"error"})):(e.fetchData(),""!==n.url?window.open(n.url):(document.getElementById("postPay").innerHTML=n.data,setTimeout(function(){document.forms["pay_form"].submit()},1e3)))}).catch(function(){t.loading=!1})}},{key:"cancelPay",value:function(t){var e=this,n=this;this.loading=!1,this.$confirm(window.i18n.t("member.confirmCancelDeposit"),{type:"warning"}).then(function(){Object(l["b"])("/member/depositCancel",{id:t}).then(function(t){n.loading=!1,0===t.code?e.$toasted.show(t.msg,{type:"error"}):(e.fetchData(),e.$toasted.show(t.msg,{type:"success"}))}).catch(function(){e.loading=!1})})}},{key:"member",get:function(){return s["a"].member}},{key:"paymentAgents",get:function(){var t=[],e=this;if(this.payments){t=this.payments.filter(function(t){return t.type_class===e.paymentType});var n=!0,a=!1,o=void 0;try{for(var i,r=t[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var s=i.value;e.postForm.payment_agent_id=s.id;break}}catch(c){a=!0,o=c}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}}return t}},{key:"paymentBanks",get:function(){var t=[],e=this;if(this.paymentAgents){var n=!0,a=!1,o=void 0;try{for(var i,r=this.paymentAgents[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var s=i.value;s.id===e.postForm.payment_agent_id&&(t=s.banks)}}catch(c){a=!0,o=c}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}}return t}}]),e}(r["c"]);_=i["a"]([Object(r["a"])({components:{CommonMoney:c["default"]}})],_);var g=_,k=g,w=n("2877"),O=Object(w["a"])(k,a,o,!1,null,null,null);e["default"]=O.exports},b804:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav nav-tabs"},[n("li",[n("router-link",{class:{active:"deposit"===t.curAction},attrs:{to:{name:"MemberDeposit"}}},[n("span",{staticClass:"icon icon-min"}),t._v("存款\n        ")])],1),n("li",[n("router-link",{class:{active:"withdrawal"===t.curAction},attrs:{to:{name:"MemberWithdrawal"}}},[n("span",{staticClass:"icon icon-mout"}),t._v("提款\n        ")])],1),n("li",[n("router-link",{class:{active:"transfer"===t.curAction},attrs:{to:{name:"MemberTransfer"}}},[n("span",{staticClass:"icon icon-tran"}),t._v("转账\n        ")])],1),n("li",[n("router-link",{class:{active:"history"===t.curAction},attrs:{to:{name:"MemberHistory"}}},[n("span",{staticClass:"icon icon-dtl"}),t._v("明细\n        ")])],1)])},o=[],i=n("9ab4"),r=n("60a3");function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var f=function(t){function e(){return c(this,e),l(this,p(e).apply(this,arguments))}return y(e,t),e}(r["c"]);i["a"]([Object(r["b"])({type:String,required:!1,default:"index"})],f.prototype,"curAction",void 0),f=i["a"]([r["a"]],f);var d=f,v=d,h=n("2877"),b=Object(h["a"])(v,a,o,!1,null,null,null);e["default"]=b.exports}}]);