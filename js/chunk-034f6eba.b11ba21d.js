(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-034f6eba"],{"11b5":function(e,t,r){"use strict";r.d(t,"c",function(){return a}),r.d(t,"a",function(){return n}),r.d(t,"b",function(){return s});var o=r("b32d"),a=function(){return Object(o["a"])({url:"/member_bank/indexData",method:"get"})},n=function(e){return Object(o["a"])({url:"/member_bank/add",method:"post",data:e})},s=function(e){return Object(o["a"])({url:"/member_bank/delete",method:"post",data:e})}},"1aac":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"modal show safe-modal",attrs:{id:"model-dialog-profile"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hide(t)}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title",attrs:{id:"ModalLabel"}},[e._v("\n                    "+e._s(e.$t("member.infoVerify"))+"\n                ")])]),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"m-wrap clearfix"},[r("div",{staticClass:"m-form"},[r("div",{staticClass:"u-input"},[r("h5",[e._v("真实姓名")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.member_surename,expression:"form.member_surename"}],attrs:{type:"text"},domProps:{value:e.form.member_surename},on:{input:function(t){t.target.composing||e.$set(e.form,"member_surename",t.target.value)}}}),r("span",{staticClass:"icon icon-user"}),""!==e.error.member_surename?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.member_surename)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v("证件号码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.member_card_no,expression:"form.member_card_no"}],attrs:{type:"text"},domProps:{value:e.form.member_card_no},on:{input:function(t){t.target.composing||e.$set(e.form,"member_card_no",t.target.value)}}}),r("span",{staticClass:"icon icon-id"}),""!==e.error.member_card_no?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.member_card_no)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-btn"},[r("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:e.doSubmit}},[e._v("提交")])])])])])])])])},a=[],n=r("9ab4"),s=r("60a3"),i=r("a984"),l=r("0f8a"),m=r("75fb");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var y=function(e){function t(){var e;return u(this,t),e=p(this,v(t).apply(this,arguments)),e.loading=!1,e.form={member_surename:"",member_card_no:""},e.error={member_surename:"",member_card_no:""},e}return h(t,e),f(t,[{key:"created",value:function(){i["a"].ResetFlushParentStatus()}},{key:"hide",value:function(e){var t=document.getElementById("model-dialog-profile"),r=e.target;r===t&&i["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"syncParent",value:function(){i["a"].SetFlushParentStatus()}},{key:"afterSubmit",value:function(){this.loading=!1,this.syncParent(),i["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"doSubmit",value:function(){var e=this,t=this;this.error.member_surename="",this.error.member_card_no="",""!==this.form.member_surename?""!==this.form.member_card_no&&Object(m["b"])(this.form.member_card_no)?(this.loading=!0,Object(l["g"])(this.form).then(function(r){0===r.code?e.$toasted.show(r.msg,{type:"error",onComplete:function(){e.loading=!1}}):e.$toasted.show(r.msg,{type:"success",onComplete:function(){t.afterSubmit()}})})):this.error.member_card_no=window.i18n.t("member.error.member_card_no"):this.error.member_surename=window.i18n.t("member.error.member_surename")}}]),t}(s["c"]);y=n["a"]([s["a"]],y);var g=y,w=g,C=r("2877"),S=Object(C["a"])(w,o,a,!1,null,null,null);t["default"]=S.exports},4740:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"modal show safe-modal",attrs:{id:"model-dialog-email"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hide(t)}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title",attrs:{id:"ModalLabel"}},[1===e.form.step&&""===e.member.member_email?r("font",[e._v("\n                        绑定电子邮箱\n                    ")]):e._e(),1===e.form.step&&""!==e.member.member_email?r("font",[e._v("\n                        验证电子邮箱\n                    ")]):e._e(),2===e.form.step?r("font",[e._v("\n                        绑定新电子邮箱\n                    ")]):e._e()],1)]),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"m-wrap clearfix"},[r("div",{staticClass:"m-form"},[1===e.form.step?r("div",{staticClass:"u-input getcode"},[r("h5",[e._v("邮箱地址")]),""===e.member.member_email?r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{type:"text"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.member.member_email,expression:"member.member_email"}],attrs:{type:"text",readonly:""},domProps:{value:e.member.member_email},on:{input:function(t){t.target.composing||e.$set(e.member,"member_email",t.target.value)}}}),r("span",{staticClass:"icon icon-email"}),e.timer>0?r("a",{staticClass:"u-change1",attrs:{href:"javascript:void(0)"}},[e._v("\n                                "+e._s(e.timer)+"\n                            ")]):r("a",{staticClass:"u-change",attrs:{href:"javascript:void(0)"},on:{click:e.sendCode}},[e._v("\n                                验证码\n                            ")]),""!==e.error.email?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.email)+"\n                            ")]):e._e()]):e._e(),1===e.form.step?r("div",{staticClass:"u-input"},[r("h5",[e._v("验证码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.code,expression:"form.code"}],attrs:{type:"text"},domProps:{value:e.form.code},on:{input:function(t){t.target.composing||e.$set(e.form,"code",t.target.value)}}}),r("span",{staticClass:"icon icon-code"}),""!==e.error.code?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.code)+"\n                            ")]):e._e()]):e._e(),2===e.form.step?r("div",{staticClass:"u-input getcode"},[r("h5",[e._v("新邮箱地址")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.remail,expression:"form.remail"}],attrs:{type:"text"},domProps:{value:e.form.remail},on:{input:function(t){t.target.composing||e.$set(e.form,"remail",t.target.value)}}}),r("span",{staticClass:"icon icon-email"}),e.timer>0?r("a",{staticClass:"u-change1",attrs:{href:"javascript:void(0)"}},[e._v("\n                                "+e._s(e.timer)+"\n                            ")]):r("a",{staticClass:"u-change",attrs:{href:"javascript:void(0)"},on:{click:e.sendCode}},[e._v("\n                                验证码\n                            ")]),""!==e.error.remail?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.remail)+"\n                            ")]):e._e()]):e._e(),2===e.form.step?r("div",{staticClass:"u-input"},[r("h5",[e._v("验证码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rcode,expression:"form.rcode"}],attrs:{type:"text"},domProps:{value:e.form.rcode},on:{input:function(t){t.target.composing||e.$set(e.form,"rcode",t.target.value)}}}),r("span",{staticClass:"icon icon-code"}),""!==e.error.rcode?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.rcode)+"\n                            ")]):e._e()]):e._e(),r("p",{staticClass:"tip"},[e._v("\n                            ！请放心，我们不会泄露任何用户信息，以及发送骚扰信息。\n                        ")]),r("div",{staticClass:"u-btn"},[r("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:e.doSubmit}},[e._v("提交")])])])])])])])])},a=[],n=r("9ab4"),s=r("60a3"),i=r("0290"),l=r("a984"),m=r("0f8a"),c=r("75fb"),u=r("f7e2");function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function v(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}var w=function(e){function t(){var e;return f(this,t),e=v(this,_(t).apply(this,arguments)),e.loading=!1,e.timer=0,e.form={email:"",code:"",remail:"",rcode:"",step:1},e.error={email:"",code:"",remail:"",rcode:""},e}return y(t,e),b(t,[{key:"created",value:function(){i["a"].getProfile(),l["a"].ResetFlushParentStatus()}},{key:"hide",value:function(e){var t=document.getElementById("model-dialog-email"),r=e.target;r===t&&l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"sendCode",value:function(){var e=this,t=this;if(this.error.email="",this.error.remail="",1!==this.form.step||""!==this.member.member_email||Object(c["a"])(this.form.email))if(2!==this.form.step||Object(c["a"])(this.form.remail)){this.loading=!0;var r=this.form.email,o="bind";1===this.form.step&&""!==this.member.member_email&&(o="check"),2===this.form.step&&(r=this.form.remail),Object(u["e"])(r,o).then(function(r){e.loading=!1,0===r.code?(r.data>0&&(t.timer=r.data,e.codeInterval()),e.$toasted.show(r.msg,{type:"error"})):(t.timer=60,e.codeInterval(),e.$toasted.show(r.msg,{type:"success"}))})}else this.error.remail=window.i18n.t("member.error.email");else this.error.email=window.i18n.t("member.error.email")}},{key:"codeInterval",value:function(){var e=this,t=setInterval(function(){e.timer--,0===e.timer&&clearInterval(t)},1e3)}},{key:"syncParent",value:function(){l["a"].SetFlushParentStatus()}},{key:"afterSubmit",value:function(){this.loading=!1,this.syncParent(),l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"doSubmit",value:function(){var e=this,t=this;this.error.email="",this.error.code="",this.error.remail="",this.error.rcode="",1!==this.form.step||""!==this.member.member_email||Object(c["a"])(this.form.email)?2!==this.form.step||Object(c["a"])(this.form.remail)?1!==this.form.step||""!==this.form.code?2!==this.form.step||""!==this.form.rcode?(this.loading=!0,Object(m["a"])(this.form).then(function(r){0===r.code?e.$toasted.show(r.msg,{type:"error",onComplete:function(){t.loading=!1}}):e.$toasted.show(r.msg,{type:"success",onComplete:function(){t.loading=!1,t.timer=0,1===t.form.step&&""===t.member.member_email?t.afterSubmit():1===t.form.step&&""!==t.member.member_email?(t.form.step=2,console.log(t.timer)):2===t.form.step&&t.afterSubmit()}})})):this.error.rcode=window.i18n.t("member.error.code"):this.error.code=window.i18n.t("member.error.code"):this.error.remail=window.i18n.t("member.error.email"):this.error.email=window.i18n.t("member.error.email")}},{key:"member",get:function(){return i["a"].member}}]),t}(s["c"]);w=n["a"]([s["a"]],w);var C=w,S=C,O=r("2877"),k=Object(O["a"])(S,o,a,!1,null,null,null);t["default"]=k.exports},"495a":function(e,t,r){},"5cb1":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"modal show safe-modal",attrs:{id:"model-dialog-question"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hide(t)}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[e._m(0),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"m-wrap clearfix"},[r("div",{staticClass:"m-form"},[r("div",{staticClass:"u-select"},[r("h5",[e._v("选择安全问题")]),r("span",{staticClass:"mark"}),e._m(1),r("span",{staticClass:"icon icon-qus"}),""!==e.error.member_address?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.member_address)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v("答案")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.member_address_surename,expression:"form.member_address_surename"}],attrs:{type:"text"},domProps:{value:e.form.member_address_surename},on:{input:function(t){t.target.composing||e.$set(e.form,"member_address_surename",t.target.value)}}}),r("span",{staticClass:"icon icon-user"}),""!==e.error.member_address_surename?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.member_address_surename)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-btn"},[r("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:e.doSubmit}},[e._v("提交")])])])])])])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title",attrs:{id:"ModalLabel"}},[e._v("\n                    设置安全问题\n                ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("select",{attrs:{id:"",name:""}},[r("option",{attrs:{value:""}},[e._v("\n                                    您父亲的生日是？\n                                ")])])}],n=r("9ab4"),s=r("60a3"),i=r("f727"),l=r("0290"),m=r("a984");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var y=function(e){function t(){var e;return u(this,t),e=p(this,v(t).apply(this,arguments)),e.loading=!1,e.form={member_address:"",member_address_surename:"",member_address_phone:""},e.error={member_address:"",member_address_surename:"",member_address_phone:""},e}return h(t,e),f(t,[{key:"created",value:function(){this.form.member_address=this.member.member_address,this.form.member_address_surename=this.member.member_address_surename,this.form.member_address_phone=this.member.member_address_phone,l["a"].getProfile(),m["a"].ResetFlushParentStatus()}},{key:"hide",value:function(e){var t=document.getElementById("model-dialog-question"),r=e.target;r===t&&m["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"syncParent",value:function(){m["a"].SetFlushParentStatus()}},{key:"afterSubmit",value:function(){this.loading=!1,this.syncParent(),m["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"doSubmit",value:function(){var e=this,t=this;this.error.member_address="",this.error.member_address_surename="",""!==this.form.member_address?""!==this.form.member_address_surename?""!==this.form.member_address_phone?(this.loading=!0,Object(i["b"])("/member/address",this.form).then(function(r){0===r.code?e.$toasted.show(r.msg,{type:"error",onComplete:function(){e.loading=!1}}):e.$toasted.show(r.msg,{type:"success",onComplete:function(){t.afterSubmit()}})})):this.error.member_address_phone=window.i18n.t("member.error.member_address_phone"):this.error.member_address_surename=window.i18n.t("member.error.member_address_surename"):this.error.member_address=window.i18n.t("member.error.member_address")}},{key:"member",get:function(){return l["a"].member}}]),t}(s["c"]);y=n["a"]([s["a"]],y);var g=y,w=g,C=r("2877"),S=Object(C["a"])(w,o,a,!1,null,null,null);t["default"]=S.exports},"62e8":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"modal show safe-modal",attrs:{id:"model-bank-dialog"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hide(t)}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title",attrs:{id:"ModalLabel"}},[e._v("\n                    "+e._s(e.title)+"\n                ")])]),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"m-wrap clearfix"},[r("div",{staticClass:"m-form"},[r("div",{staticClass:"u-input"},[r("h5",[e._v(e._s(e.$t("memberBank.bank_name")))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.postForm.bank_name,expression:"postForm.bank_name"}],attrs:{type:"text"},domProps:{value:e.postForm.bank_name},on:{input:function(t){t.target.composing||e.$set(e.postForm,"bank_name",t.target.value)}}}),r("span",{staticClass:"icon icon-user"}),""!==e.error.bank_name?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.bank_name)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v(e._s(e.$t("memberBank.bank_account")))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.postForm.bank_account,expression:"postForm.bank_account"}],attrs:{type:"text"},domProps:{value:e.postForm.bank_account},on:{input:function(t){t.target.composing||e.$set(e.postForm,"bank_account",t.target.value)}}}),r("span",{staticClass:"icon icon-id"}),""!==e.error.bank_account?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.bank_account)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v(e._s(e.$t("memberBank.is_default")))]),r("div",{staticClass:"choose choose-default clearfix"},e._l(e.defaultOptions,function(t,o){return r("div",{key:o,staticClass:"u-radio",on:{click:function(r){return e.handleChooseDefault(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.postForm.is_default,expression:"postForm.is_default"}],staticClass:"radio",attrs:{id:"is-default-"+t,type:"radio",name:"is-default-"+t},domProps:{value:t,checked:e._q(e.postForm.is_default,t)},on:{change:function(r){return e.$set(e.postForm,"is_default",t)}}}),r("label",{attrs:{for:"is-default-"+t}},[e._v("\n                                        "+e._s(e.$t("memberBank.is_default_"+t))+"\n                                    ")])])}),0)]),r("div",{staticClass:"u-btn"},[r("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.doSubmit(t)}}},[e._v("提交")])])])])])])])])},a=[],n=r("9ab4"),s=r("60a3"),i=r("11b5"),l=r("a984");function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function f(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var _=function(e){function t(){var e;return c(this,t),e=f(this,b(t).apply(this,arguments)),e.loading=!1,e.title="",e.defaultOptions=[1,2],e.postForm={id:0,bank_name:"",bank_account:"",is_default:1},e.error={bank_name:"",bank_account:"",is_default:1},e}return v(t,e),d(t,[{key:"handleChooseDefault",value:function(e){this.postForm.is_default=e}},{key:"created",value:function(){var e=l["a"].dialogData.id;0===e?(this.title=window.i18n.t("memberBank.add"),l["a"].ResetFlushParentStatus()):l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"hide",value:function(e){var t=document.getElementById("model-bank-dialog"),r=e.target;r===t&&l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"syncParent",value:function(){l["a"].SetFlushParentStatus()}},{key:"afterSubmit",value:function(){this.loading=!1,this.syncParent(),l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"doSubmit",value:function(){var e=this,t=this;this.error.bank_name="",this.error.bank_account="",""!==this.postForm.bank_name?""!==this.postForm.bank_account?(this.loading=!0,0===this.postForm.id&&Object(i["a"])(this.postForm).then(function(r){0===r.code?e.$toasted.show(r.msg,{type:"error",onComplete:function(){e.loading=!1}}):e.$toasted.show(r.msg,{type:"success",onComplete:function(){t.afterSubmit()}})}).catch(function(){e.loading=!1})):this.error.bank_account=window.i18n.t("member.error.bank_account"):this.error.bank_name=window.i18n.t("member.error.bank_name")}}]),t}(s["c"]);_=n["a"]([s["a"]],_);var y=_,g=y,w=(r("a074"),r("2877")),C=Object(w["a"])(g,o,a,!1,null,"91020528",null);t["default"]=C.exports},8834:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"modal-fade"}},[r(e.dialogName,{tag:"component"})],1)},a=[],n=r("9ab4"),s=r("60a3"),i=r("a984"),l=r("1aac"),m=r("4740"),c=r("bf90"),u=r("a987"),d=r("b3fd"),f=r("b0c4"),p=r("5cb1"),b=r("62e8");function v(e){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),e}function g(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}var k=function(e){function t(){return h(this,t),g(this,C(t).apply(this,arguments))}return S(t,e),y(t,[{key:"dialogName",get:function(){return i["a"].dialogName}}]),t}(s["c"]);k=n["a"]([Object(s["a"])({components:{DialogProfile:l["default"],DialogEmail:m["default"],DialogPhone:c["default"],DialogPassword:u["default"],DialogSafePassword:d["default"],DialogAddress:f["default"],DialogQuestion:p["default"],DialogBank:b["default"]}})],k);var P=k,j=P,x=r("2877"),E=Object(x["a"])(j,o,a,!1,null,null,null);t["default"]=E.exports},a074:function(e,t,r){"use strict";var o=r("495a"),a=r.n(o);a.a},a984:function(e,t,r){"use strict";r.d(t,"a",function(){return v});var o=r("9ab4"),a=r("6fc5"),n=r("0613");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function c(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var b=function(e){function t(){var e;return i(this,t),e=c(this,d(t).apply(this,arguments)),e.dialogName="",e.dialogData={},e.flushParentStatus=!1,e}return f(t,e),m(t,[{key:"ToggleDialog",value:function(e){this.TOGGLE_DIALOG(e)}},{key:"SetFlushParentStatus",value:function(){this.SET_FLUSHPARENT_STATUS()}},{key:"ResetFlushParentStatus",value:function(){this.RESET_FLUSHPARENT_STATUS()}},{key:"TOGGLE_DIALOG",value:function(e){var t=e.dialogName,r=e.dialogData;this.dialogName=t,this.dialogData=r}},{key:"SET_FLUSHPARENT_STATUS",value:function(){this.flushParentStatus=!0}},{key:"RESET_FLUSHPARENT_STATUS",value:function(){this.flushParentStatus=!1}}]),t}(a["d"]);o["a"]([a["a"]],b.prototype,"ToggleDialog",null),o["a"]([a["a"]],b.prototype,"SetFlushParentStatus",null),o["a"]([a["a"]],b.prototype,"ResetFlushParentStatus",null),o["a"]([a["c"]],b.prototype,"TOGGLE_DIALOG",null),o["a"]([a["c"]],b.prototype,"SET_FLUSHPARENT_STATUS",null),o["a"]([a["c"]],b.prototype,"RESET_FLUSHPARENT_STATUS",null),b=o["a"]([Object(a["b"])({dynamic:!0,store:n["a"],name:"dialog"})],b);var v=Object(a["e"])(b)},a987:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"modal show safe-modal",attrs:{id:"model-dialog-password"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hide(t)}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[e._m(0),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"m-wrap clearfix"},[r("div",{staticClass:"m-form"},[r("div",{staticClass:"u-input"},[r("h5",[e._v("旧密码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.old_password,expression:"form.old_password"}],attrs:{type:"password"},domProps:{value:e.form.old_password},on:{input:function(t){t.target.composing||e.$set(e.form,"old_password",t.target.value)}}}),r("span",{staticClass:"icon icon-lock"}),""!==e.error.old_password?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.old_password)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v("新密码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{type:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),r("span",{staticClass:"icon icon-lock"}),""!==e.error.password?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.password)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v("确认密码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rpassword,expression:"form.rpassword"}],attrs:{type:"password"},domProps:{value:e.form.rpassword},on:{input:function(t){t.target.composing||e.$set(e.form,"rpassword",t.target.value)}}}),r("span",{staticClass:"icon icon-lock"}),""!==e.error.rpassword?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.rpassword)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-btn"},[r("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:e.doSubmit}},[e._v("提交")])])])])])])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title",attrs:{id:"ModalLabel"}},[e._v("\n                    修改密码\n                ")])])}],n=r("9ab4"),s=r("60a3"),i=r("a984"),l=r("f727"),m=r("75fb");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var y=function(e){function t(){var e;return u(this,t),e=p(this,v(t).apply(this,arguments)),e.loading=!1,e.form={old_password:"",password:"",rpassword:""},e.error={old_password:"",password:"",rpassword:""},e}return h(t,e),f(t,[{key:"created",value:function(){i["a"].ResetFlushParentStatus()}},{key:"hide",value:function(e){var t=document.getElementById("model-dialog-password"),r=e.target;r===t&&i["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"syncParent",value:function(){i["a"].SetFlushParentStatus()}},{key:"afterSubmit",value:function(){this.loading=!1,this.syncParent(),i["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"doSubmit",value:function(){var e=this,t=this;this.error.old_password="",this.error.password="",""!==this.form.old_password?""!==this.form.password&&Object(m["d"])(this.form.password,8)?""!==this.form.rpassword&&this.form.password===this.form.rpassword?(this.loading=!0,Object(l["b"])("/member/password",this.form).then(function(r){0===r.code?e.$toasted.show(r.msg,{type:"error",onComplete:function(){e.loading=!1}}):e.$toasted.show(r.msg,{type:"success",onComplete:function(){t.afterSubmit()}})})):this.error.rpassword=window.i18n.t("member.error.rpassword"):this.error.password=window.i18n.t("member.error.password"):this.error.old_password=window.i18n.t("member.error.old_password")}}]),t}(s["c"]);y=n["a"]([s["a"]],y);var g=y,w=g,C=r("2877"),S=Object(C["a"])(w,o,a,!1,null,null,null);t["default"]=S.exports},b0c4:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"modal show safe-modal",attrs:{id:"model-dialog-member-address"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hide(t)}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[e._m(0),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"m-wrap clearfix"},[r("div",{staticClass:"m-form"},[r("div",{staticClass:"u-input"},[r("h5",[e._v("收件地址")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.member_address,expression:"form.member_address"}],attrs:{type:"text"},domProps:{value:e.form.member_address},on:{input:function(t){t.target.composing||e.$set(e.form,"member_address",t.target.value)}}}),r("span",{staticClass:"icon icon-qus"}),""!==e.error.member_address?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.member_address)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v("收件人")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.member_address_surename,expression:"form.member_address_surename"}],attrs:{type:"text"},domProps:{value:e.form.member_address_surename},on:{input:function(t){t.target.composing||e.$set(e.form,"member_address_surename",t.target.value)}}}),r("span",{staticClass:"icon icon-user"}),""!==e.error.member_address_surename?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.member_address_surename)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v("联系电话")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.member_address_phone,expression:"form.member_address_phone"}],attrs:{type:"text"},domProps:{value:e.form.member_address_phone},on:{input:function(t){t.target.composing||e.$set(e.form,"member_address_phone",t.target.value)}}}),r("span",{staticClass:"icon icon-phone"}),""!==e.error.member_address_phone?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.member_address_phone)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-btn"},[r("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:e.doSubmit}},[e._v("提交")])])])])])])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title",attrs:{id:"ModalLabel"}},[e._v("\n                    修改地址\n                ")])])}],n=r("9ab4"),s=r("60a3"),i=r("f727"),l=r("0290"),m=r("a984");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var y=function(e){function t(){var e;return u(this,t),e=p(this,v(t).apply(this,arguments)),e.loading=!1,e.form={member_address:"",member_address_surename:"",member_address_phone:""},e.error={member_address:"",member_address_surename:"",member_address_phone:""},e}return h(t,e),f(t,[{key:"created",value:function(){this.form.member_address=this.member.member_address,this.form.member_address_surename=this.member.member_address_surename,this.form.member_address_phone=this.member.member_address_phone,l["a"].getProfile(),m["a"].ResetFlushParentStatus()}},{key:"hide",value:function(e){var t=document.getElementById("model-dialog-member-address"),r=e.target;r===t&&m["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"syncParent",value:function(){m["a"].SetFlushParentStatus()}},{key:"afterSubmit",value:function(){this.loading=!1,this.syncParent(),m["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"doSubmit",value:function(){var e=this,t=this;this.error.member_address="",this.error.member_address_surename="",""!==this.form.member_address?""!==this.form.member_address_surename?""!==this.form.member_address_phone?(this.loading=!0,Object(i["b"])("/member/address",this.form).then(function(r){0===r.code?e.$toasted.show(r.msg,{type:"error",onComplete:function(){e.loading=!1}}):e.$toasted.show(r.msg,{type:"success",onComplete:function(){t.afterSubmit()}})})):this.error.member_address_phone=window.i18n.t("member.error.member_address_phone"):this.error.member_address_surename=window.i18n.t("member.error.member_address_surename"):this.error.member_address=window.i18n.t("member.error.member_address")}},{key:"member",get:function(){return l["a"].member}}]),t}(s["c"]);y=n["a"]([s["a"]],y);var g=y,w=g,C=r("2877"),S=Object(C["a"])(w,o,a,!1,null,null,null);t["default"]=S.exports},b3fd:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"modal show safe-modal",attrs:{id:"model-dialog-safe-password"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hide(t)}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[e._m(0),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"m-wrap clearfix"},[r("div",{staticClass:"m-form"},[""!==e.member.member_safe_password?r("div",{staticClass:"u-input"},[r("h5",[e._v("旧密码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.old_password,expression:"form.old_password"}],attrs:{type:"password"},domProps:{value:e.form.old_password},on:{input:function(t){t.target.composing||e.$set(e.form,"old_password",t.target.value)}}}),r("span",{staticClass:"icon icon-lock"}),""!==e.error.old_password?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.old_password)+"\n                            ")]):e._e()]):e._e(),r("div",{staticClass:"u-input"},[r("h5",[e._v("新密码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{type:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),r("span",{staticClass:"icon icon-lock"}),""!==e.error.password?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.password)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-input"},[r("h5",[e._v("确认密码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rpassword,expression:"form.rpassword"}],attrs:{type:"password"},domProps:{value:e.form.rpassword},on:{input:function(t){t.target.composing||e.$set(e.form,"rpassword",t.target.value)}}}),r("span",{staticClass:"icon icon-lock"}),""!==e.error.rpassword?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.rpassword)+"\n                            ")]):e._e()]),r("div",{staticClass:"u-btn"},[r("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:e.doSubmit}},[e._v("提交")])])])])])])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title",attrs:{id:"ModalLabel"}},[e._v("\n                    提款密码\n                ")])])}],n=r("9ab4"),s=r("60a3"),i=r("0290"),l=r("a984"),m=r("f727"),c=r("75fb");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function b(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var g=function(e){function t(){var e;return d(this,t),e=b(this,h(t).apply(this,arguments)),e.loading=!1,e.form={old_password:"",password:"",rpassword:""},e.error={old_password:"",password:"",rpassword:""},e}return _(t,e),p(t,[{key:"created",value:function(){l["a"].ResetFlushParentStatus()}},{key:"hide",value:function(e){var t=document.getElementById("model-dialog-safe-password"),r=e.target;r===t&&l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"syncParent",value:function(){l["a"].SetFlushParentStatus()}},{key:"afterSubmit",value:function(){this.loading=!1,this.syncParent(),l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"doSubmit",value:function(){var e=this,t=this;this.error.old_password="",this.error.password="",""!==this.form.old_password||""===this.member.member_safe_password?""!==this.form.password&&Object(c["d"])(this.form.password,8)?""!==this.form.rpassword&&this.form.password===this.form.rpassword?(this.loading=!0,Object(m["b"])("/member/safePassword",this.form).then(function(r){0===r.code?e.$toasted.show(r.msg,{type:"error",onComplete:function(){e.loading=!1}}):e.$toasted.show(r.msg,{type:"success",onComplete:function(){t.afterSubmit()}})})):this.error.rpassword=window.i18n.t("member.error.rpassword"):this.error.password=window.i18n.t("member.error.password"):this.error.old_password=window.i18n.t("member.error.old_password")}},{key:"member",get:function(){return i["a"].member}}]),t}(s["c"]);g=n["a"]([s["a"]],g);var w=g,C=w,S=r("2877"),O=Object(S["a"])(C,o,a,!1,null,null,null);t["default"]=O.exports},bf90:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"modal show safe-modal",attrs:{id:"model-dialog-phone"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.hide(t)}}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title",attrs:{id:"ModalLabel"}},[1===e.form.step&&""===e.member.member_phone?r("font",[e._v("\n                        绑定手机\n                    ")]):e._e(),1===e.form.step&&""!==e.member.member_phone?r("font",[e._v("\n                        验证手机\n                    ")]):e._e(),2===e.form.step?r("font",[e._v("\n                        绑定新手机\n                    ")]):e._e()],1)]),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"m-wrap clearfix"},[r("div",{staticClass:"m-form"},[1===e.form.step?r("div",{staticClass:"u-input getcode"},[r("h5",[e._v("手机号")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone,expression:"form.phone"}],attrs:{type:"text",readonly:""!==e.member.member_phone},domProps:{value:e.form.phone},on:{input:function(t){t.target.composing||e.$set(e.form,"phone",t.target.value)}}}),r("span",{staticClass:"icon icon-phone"}),0===e.timer?r("a",{staticClass:"u-change",attrs:{href:"javascript:void(0)"},on:{click:e.sendCode}},[e._v("验证码")]):e._e(),e.timer>0?r("a",{staticClass:"u-change1",attrs:{href:"javascript:void(0)"}},[e._v(e._s(e.timer))]):e._e(),""!==e.error.phone?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.phone)+"\n                            ")]):e._e()]):e._e(),1===e.form.step?r("div",{staticClass:"u-input"},[r("h5",[e._v("验证码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.code,expression:"form.code"}],attrs:{type:"text"},domProps:{value:e.form.code},on:{input:function(t){t.target.composing||e.$set(e.form,"code",t.target.value)}}}),r("span",{staticClass:"icon icon-code"}),""!==e.error.code?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.code)+"\n                            ")]):e._e()]):e._e(),2===e.form.step?r("div",{staticClass:"u-input getcode"},[r("h5",[e._v("新手机号")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rphone,expression:"form.rphone"}],attrs:{type:"text"},domProps:{value:e.form.rphone},on:{input:function(t){t.target.composing||e.$set(e.form,"rphone",t.target.value)}}}),r("span",{staticClass:"icon icon-phone"}),0===e.timer?r("a",{staticClass:"u-change",attrs:{href:"javascript:void(0)"},on:{click:e.sendCode}},[e._v("验证码")]):e._e(),e.timer>0?r("a",{staticClass:"u-change1",attrs:{href:"javascript:void(0)"}},[e._v(e._s(e.timer))]):e._e(),""!==e.error.rphone?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.rphone)+"\n                            ")]):e._e()]):e._e(),2===e.form.step?r("div",{staticClass:"u-input"},[r("h5",[e._v("验证码")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rcode,expression:"form.rcode"}],attrs:{type:"text"},domProps:{value:e.form.rcode},on:{input:function(t){t.target.composing||e.$set(e.form,"rcode",t.target.value)}}}),r("span",{staticClass:"icon icon-code"}),""!==e.error.rcode?r("p",{staticClass:"tip"},[e._v("\n                                "+e._s(e.error.rcode)+"\n                            ")]):e._e()]):e._e(),r("p",{staticClass:"tip"},[e._v("\n                            ！请放心，我们不会泄露任何用户信息，以及发送骚扰信息。\n                        ")]),r("div",{staticClass:"u-btn"},[r("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:e.doSubmit}},[e._v("提交")])])])])])])])])},a=[],n=r("9ab4"),s=r("60a3"),i=r("0290"),l=r("a984"),m=r("0f8a"),c=r("75fb"),u=r("f7e2");function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function v(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}var w=function(e){function t(){var e;return f(this,t),e=v(this,_(t).apply(this,arguments)),e.loading=!1,e.timer=0,e.form={phone:"",code:"",rphone:"",rcode:"",step:1},e.error={phone:"",code:"",rphone:"",rcode:""},e}return y(t,e),b(t,[{key:"created",value:function(){i["a"].getProfile(),l["a"].ResetFlushParentStatus()}},{key:"hide",value:function(e){var t=document.getElementById("model-dialog-phone"),r=e.target;r===t&&l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"sendCode",value:function(){var e=this,t=this;if(1!==this.form.step||""!==this.member.member_phone||Object(c["e"])(this.form.phone))if(2!==this.form.step||Object(c["e"])(this.form.rphone)){this.loading=!0;var r=this.form.phone,o="bind";1===this.form.step&&""!==this.member.member_phone&&(o="check"),2===this.form.step&&(r=this.form.rphone),Object(u["f"])(r,o).then(function(r){e.loading=!1,0===r.code?(r.data>0&&(t.timer=r.data,e.codeInterval()),e.$toasted.show(r.msg,{type:"error"})):(t.timer=60,e.codeInterval(),e.$toasted.show(r.msg,{type:"success"}))})}else this.error.rphone=window.i18n.t("member.error.phone");else this.error.phone=window.i18n.t("member.error.phone")}},{key:"codeInterval",value:function(){var e=this,t=setInterval(function(){e.timer--,0===e.timer&&clearInterval(t)},1e3)}},{key:"syncParent",value:function(){l["a"].SetFlushParentStatus()}},{key:"afterSubmit",value:function(){this.loading=!1,this.syncParent(),l["a"].ToggleDialog({dialogName:"",dialogData:{}})}},{key:"doSubmit",value:function(){var e=this,t=this;this.error.phone="",this.error.code="",1!==this.form.step||""!==this.member.member_phone||Object(c["e"])(this.form.phone)?2!==this.form.step||Object(c["e"])(this.form.rphone)?1!==this.form.step||""!==this.form.code?2!==this.form.step||""!==this.form.rcode?Object(m["b"])(this.form).then(function(r){0===r.code?e.$toasted.show(r.msg,{type:"error",onComplete:function(){e.loading=!1}}):e.$toasted.show(r.msg,{type:"success",onComplete:function(){t.timer=0,1===t.form.step&&""===t.member.member_phone?t.afterSubmit():1===t.form.step&&""!==t.member.member_phone?t.form.step=2:2===t.form.step&&t.afterSubmit()}})}):this.error.rcode=window.i18n.t("member.error.code"):this.error.code=window.i18n.t("member.error.code"):this.error.rphone=window.i18n.t("member.error.phone"):this.error.phone=window.i18n.t("member.error.phone")}},{key:"member",get:function(){return i["a"].member}}]),t}(s["c"]);w=n["a"]([s["a"]],w);var C=w,S=C,O=r("2877"),k=Object(O["a"])(S,o,a,!1,null,null,null);t["default"]=k.exports}}]);